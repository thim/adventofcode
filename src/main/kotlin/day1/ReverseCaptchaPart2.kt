/**
--- Part Two ---

You notice a progress bar that jumps to 50% completion. Apparently, the door isn't yet satisfied, but it did emit a star as encouragement. The instructions change:

Now, instead of considering the next digit, it wants you to consider the digit halfway around the circular list. That is, if your list contains 10 items, only include a digit in your sum if the digit 10/2 = 5 steps forward matches it. Fortunately, your list has an even number of elements.

For example:

1212 produces 6: the list contains 4 items, and all four digits match the digit 2 items ahead.
1221 produces 0, because every comparison is between a 1 and a 2.
123425 produces 4, because both 2s match each other, but no other digit has a match.
123123 produces 12.
12131415 produces 4.

What is the solution to your new captcha?
 */
class ReverseCaptchaPart2 {

    companion object {
        fun reverseCaptcha(value: String): Int = (0 until ((value.length / 2)))
                .filter { value[it] == value[(value.length / 2) + it] }
                .sumBy { value[it].toInt() - 48 } * 2
    }

    fun main(args: Array<String>) {

        val input = "64971395968289825957777798234951578482268493996619135916436993343536643184775448866196536355798516621" +
                "935871473931837138238829615119536157121613192515849244146184468732492331538135833157157761378964916648615" +
                "223794591798797779389173986514973475599324136188633692653848227112475535957279145133584253489319269355865" +
                "999117198384928548913942142593363861488441589693891499273249219245863648452322824453233158758477955278854" +
                "466725357732464991527411592461175834567618344398299273396637349838568596576892924147798372792127982672797" +
                "687255631542843479916175973493265982993456233938532811965682348395485642736589262772816352472146793844994" +
                "335819263226235485459363583155935224744397594514416318356372356289135785936796412628944598213552353592311" +
                "358931641762348363163756929194178299221388951371452534246856334938527188422168554999653433376573124389566" +
                "262482992498297168544382536682792358943525451421148964948237487643454968278545969888552167325893941325515" +
                "819652569623645791144759994744966554255425148684738882357693716723747655678213322727932452683494653444471" +
                "816152412928591947795993768472888259277994173418614413888399432274248485392538351865168714724694342131128" +
                "732486766369843254661958363897663773334525183486998574638537161774349862711144193354635693467163954534251" +
                "539253657474479573224361711357464128423192848931268361715453664821924499649174571865815164824679182646697" +
                "365476528426392888413786364762323734588246914293314263758364425842741697259524173725444971853172417653864" +
                "836925379668893124519138295696154477585687228131774382855262984355184492791314751837736226655433438672131" +
                "324422323339645329122493249927796152578575586385248714194662666383519528676294717238418666743951636721939" +
                "182377433869215192647271737323561291184877338777124414496914948247751943782286342266215746196844428197235" +
                "314969551549499253792749211138819383755384467171929148244233776132127233398292428932343727722456514992841" +
                "625543584132775613911811974452899326915717441426438757333111632398261486295226459761188599928599551635751" +
                "964869559429965738761479334162631886651914457457181653535114939473591697544842561817157291719516559432355" +
                "2199346814729617189679698944337146"

        println("Solution is ${reverseCaptcha(input)}")
    }
}
